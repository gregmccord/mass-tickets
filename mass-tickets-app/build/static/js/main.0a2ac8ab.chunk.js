(this["webpackJsonpmass-tickets"]=this["webpackJsonpmass-tickets"]||[]).push([[0],{16:function(e,t,a){e.exports=a(27)},21:function(e,t,a){},22:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(8),l=a.n(r),c=(a(21),a(9)),i=a(10),s=a(6),u=a(11);a(22),a(23);var m=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)("---"),m=Object(c.a)(l,2),d=m[0],p=m[1],f=Object(n.useState)("---"),E=Object(c.a)(f,2),y=E[0],h=E[1],g=Object(n.useState)(""),S=Object(c.a)(g,2),M=S[0],v=S[1],b=Object(n.useState)(!1),k=Object(c.a)(b,2),w=k[0],A=k[1],j=Object(n.useState)(""),C=Object(c.a)(j,2),O=C[0],N=C[1],T={"Saturday, May 30, 5:00PM":{"1-2":0,"3-4":0,"5-6":0},"Sunday, May 31, 7:30AM":{"1-2":5,"3-4":1,"5-6":0},"Sunday, May 31, 11:00AM":{"1-2":5,"3-4":1,"5-6":6}},I={"Saturday, May 30, 5:00PM":new Set(["gmccord@princeton.edu"]),"Sunday, May 31, 7:30AM":new Set(["gmccord@princeton.edu"]),"Sunday, May 31, 11:00AM":new Set([])},P=function(){return A(!1)};function z(){for(var e in T[d])if(T[d][e]>0)return!0;return!1}function B(){console.log("New!")}return Object(n.useEffect)((function(){fetch("/time").then((function(e){return e.json()})).then((function(e){N(e.time)}))}),[]),console.log(O),o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},"St. Mary's of the Assumption Mass Ticket App"),o.a.createElement("div",{className:"App-Body"},o.a.createElement(s.a,{className:"Request-ticket"},o.a.createElement(s.a.Group,{controlId:"MassDayTime"},o.a.createElement(s.a.Label,null,"Mass Day/Time"),o.a.createElement(s.a.Control,{as:"select",onChange:function(e){return p(e.target.value)}},o.a.createElement("option",null,"---"),o.a.createElement("option",null,"Saturday, May 30, 5:00PM"),o.a.createElement("option",null,"Sunday, May 31, 7:30AM"),o.a.createElement("option",null,"Sunday, May 31, 11:00AM"))),!z()&&"---"!==d&&o.a.createElement("div",null,"There are no spots remaining for this mass."),z()&&"---"!==d&&o.a.createElement("div",null,o.a.createElement("div",null,function(){var e="";return e+="Spots remaining for 1-2 people: "+T[d]["1-2"]+"\n",e+="Spots remaining for 3-4 people: "+T[d]["3-4"]+"\n",e+="Spots remaining for 5-6 people: "+T[d]["5-6"]+"\n",e+="\n"}()),o.a.createElement(s.a.Group,{controlId:"Email",size:"lg"},o.a.createElement(s.a.Label,null,"Email Address"),o.a.createElement(s.a.Control,{placeholder:"name@example.com",value:M,onChange:function(e){return v(e.target.value)},type:"email"})),o.a.createElement(s.a.Group,{controlId:"NumberPeople"},o.a.createElement(s.a.Label,null,"Select Number of People"),o.a.createElement(s.a.Control,{as:"select",onChange:function(e){return h(e.target.value)}},o.a.createElement("option",null,"---"),o.a.createElement("option",null,"1-2"),o.a.createElement("option",null,"3-4"),o.a.createElement("option",null,"5-6")))),"---"!==d&&T[d][y]<=0&&"---"!==h&&o.a.createElement("div",{className:"Selection-Alert"},"***There are no spots remaining for ",y," people at this mass. Please select a dfferent group size or a different mass."),"---"!==d&&"---"!==y&&(T[d][y]>0&&function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(M)?(a||r(!0),!0):(a&&r(!1),!1))&&o.a.createElement(s.a.Group,null,o.a.createElement(u.a,{block:!0,size:"lg",type:"button",onClick:function(e){I[d].has(M)?A(!0):B()}},"Get Ticket")))),o.a.createElement(i.a,{show:w,onHide:P},o.a.createElement(i.a.Header,{closeButton:!0},o.a.createElement(i.a.Title,null,"Modal heading")),o.a.createElement(i.a.Body,null,"We see that you have already signed up for this mass with this email address. If you need an additional ticket, press Confirm. If you need us to re-send your ticket(s), press Re-send."),o.a.createElement(i.a.Footer,null,o.a.createElement(u.a,{variant:"secondary",onClick:P},"Close"),o.a.createElement(u.a,{variant:"primary",onClick:function(){A(!1),console.log("Old!")}},"Re-send"),o.a.createElement(u.a,{variant:"primary",onClick:function(){A(!1),B()}},"Confirm"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(m,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.0a2ac8ab.chunk.js.map